{% extends "base.html" %}
{% block content %}
<div style="width:100%;max-width:420px;margin:0 auto;display:flex;flex-direction:column;gap:14px;">
  <h2 style="font-weight:600;font-size:1.25rem;margin:0;">Meu perfil</h2>
  {% if current_user.profile_photo %}
    <div style="width:96px;height:96px;border-radius:50%;overflow:hidden;background:#f2f3f5;">
      <img src="{{ url_for('static', filename=current_user.profile_photo) }}" alt="Foto" style="width:100%;height:100%;object-fit:cover;">
    </div>
  {% endif %}
  <form method="POST" enctype="multipart/form-data" style="display:flex;flex-direction:column;gap:10px;">
    <label>Nome do salão/clínica</label>
    <input type="text" name="company_name" value="{{ current_user.company_name }}" style="padding:10px;border:1px solid #e3e7eb;border-radius:10px;">
    <label>Nome completo</label>
    <input type="text" name="full_name" value="{{ current_user.full_name }}" style="padding:10px;border:1px solid #e3e7eb;border-radius:10px;">
    <label>Telefone</label>
    <input type="text" name="phone" value="{{ current_user.phone }}" style="padding:10px;border:1px solid #e3e7eb;border-radius:10px;">
    <label>Plano</label>
    <select name="plan" style="padding:10px;border:1px solid #e3e7eb;border-radius:10px;">
      {% set p = (current_user.plan or 'free')|lower %}
      <option value="free" {% if p=='free' %}selected{% endif %}>Free (1 profissional, sem locais)</option>
      <option value="basic" {% if p=='basic' %}selected{% endif %}>Basic (multi-locais, sem multi-profissional)</option>
      <option value="pro" {% if p=='pro' %}selected{% endif %}>Pro (multi-profissional, sem locais)</option>
    </select>
    <label>Foto de perfil</label>
    <input type="file" name="profile_photo" accept="image/*" style="padding:8px;border:1px solid #e3e7eb;border-radius:10px;">
    <div style="display:flex;gap:10px;justify-content:flex-end;">
      <a href="{{ url_for('main.dashboard') }}" style="background:#fff;border:1px solid #e3e7eb;border-radius:10px;padding:10px 14px;text-decoration:none;color:#232323;">Voltar</a>
      <button type="submit" style="background:#232323;color:#fff;border:none;border-radius:10px;padding:10px 14px;">Salvar</button>
    </div>
  </form>
</div>
{% endblock %}